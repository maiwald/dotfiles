# vim: ft=sh

function mk() {
  if [ $# -eq 1 ]; then
    mkdir $1 && cd $1
  fi
}

function ghc() {
  if [ $# -eq 1 ]; then
    git clone git@github.com:"$1".git
  fi
}

function gru() {
  read "reply?Reset to upstream, are you sure? "
  if [[ "$reply" =~ ^[Yy]$ ]]
  then
    git fetch && git reset --hard @{u}
  fi
}

# create a default tmux session
# or attach a session be the same name
function tnew()
{
  if [[ $# != 1 ]]; then
    echo "usage: tnew <session-name>"
    echo "Create a new tmux session with shell and vim windows or attach a session by the same name"
    return 1
  fi

  tmux has-session -t $1 2>/dev/null
  if [[ "$?" -ne 0 ]]; then
    tmux new-session -d -s $1 -n shell
    tmux new-window -t $1 -n vim
    tmux send-keys -t "$1":vim vim C-m
    tmux select-window -t "$1":shell
  fi

  tmux attach -t $1
}
